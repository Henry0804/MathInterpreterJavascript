<script type="module">
  import Lexer from "./Lexer.js";
  import Parser from "./Parser.js";
  import Hashmap from "./Hashmap.js";

  var tokens = Lexer.Parse("2*2");
  console.info(tokens);

  var nodes = Parser.ToNodes(tokens);
  console.info(nodes);

  var ast = Parser.Parse(nodes);
  console.info(ast);

  var res = Parser.QuickParse(ast);
  console.info(res);

let inp = document.getElementById("inp");
let out = document.getElementById("out");
let submit = document.getElementById("submit");
let vars = new Hashmap();
vars.put("pi",Math.PI);
vars.put("infinity",1/0);
vars.put("nan",0/0);
  submit.onclick = function submit() {
    let val = inp.value;
    out.innerText = "Result is: " + Parser.QuickParse(Parser.Parse(Parser.ToNodes(Lexer.Parse(val))),vars);
  }

</script>

<h1>Calculator</h1>

<textarea id="inp" rows="10" cols="40"></textarea>
<button id="submit" onclick="alert('An error has occured.');">Submit</button>
<br>
<p id="out">Waiting for output...</p>
<br>
<br>
<br>
<p>
Calculator version: 1.0.0<br>
Current features:<br>
Supports these current operations: (+-*/%)<br>
Also supports functions but I haven't really done much with that yet.<br>
The source code is also messy because I converted the java project to js, by hand.
</p>
